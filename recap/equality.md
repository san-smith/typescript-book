# Равенство

## Равенство

Одна из вещей, с которой нужно быть осторожным в JavaScript - это разница между `==` и `===`. Поскольку JavaScript пытается быть устойчивым к ошибкам программирования, оператор `==`пытается выполнить приведение типов между переменными, например, сконвертировать строку в число, чтобы вы могли сравнить его с числом, как в примере ниже:

```javascript
console.log(5 == "5"); // true   , TS Ошибка
console.log(5 === "5"); // false , TS Ошибка
```

Однако выбор, который делает JavaScript, не всегда идеален. Например, в примере ниже, первое выражение ложно, потому что `""` и `"0"` оба являются строками и действительно не равны. Однако во втором случае, и `0`, и пустая строка \(`""`\) являются "ложными" \(то есть ведут себя как `false`\) и поэтому равны по отношению к `==`. Оба выражения являются ложными, когда вы используете `===`.

```javascript
console.log("" == "0"); // false
console.log(0 == ""); // true

console.log("" === "0"); // false
console.log(0 === ""); // false
```

> Заметим, что оба выражения - `string == number` и `string === number` - вызывают ошибку компиляции в TypeScript, так что обычно вам не нужно беспокоиться об этом.

Аналогично `==` vs. `===`, есть и `!=` vs. `!==`

Поэтому ProTip: Всегда используйте `===` и `!==`, кроме случаев проверок на null, которые мы обсудим далее.

## Структурное равенство

Если вы хотите сравнить два объекта на структурное равенство, то операторы `==`/`===` _**не являются**_ подходящими для этого, например:

```javascript
console.log({a:123} == {a:123}); // False
console.log({a:123} === {a:123}); // False
```

Для таких проверок используйте npm пакет [deep-equal](https://www.npmjs.com/package/deep-equal), например:

```javascript
import * as deepEqual from "deep-equal";

console.log(deepEqual({a:123},{a:123})); // True
```

Однако, как правило, вам не нужны глубокие проверки, и всё, что вы действительно хотите - это проверить объекты по некоторому `id`, например:

```typescript
type IdDisplay = {
  id: string,
  display: string
}
const list: IdDisplay[] = [
  {
    id: 'foo',
    display: 'Foo Select'
  },
  {
    id: 'bar',
    display: 'Bar Select'
  },
]

const fooIndex = list.map(i => i.id).indexOf('foo');
console.log(fooIndex); // 0
```

